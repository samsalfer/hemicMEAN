<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <h4 class="page-header">Validar formulario</h4>
      <!--<md-button ng-click="showSimpleToast()">-->
      <!--Show Simple-->
      <!--</md-button>-->
      <div class="container-fluid container-fixed-lg">
        <div class="row">
          <div class="col-sm-12">
            <div class="panel panel-default">
              <div class="panel-heading">
                <div class="panel-title">TÃ©rmino Combinado</div>
              </div>
                <div class="panel-body">
                  <table class="table table-striped">
                    <thead>
                    <tr>
                      <th>Name</th>
                      <th>State</th>
                      <th>Project</th>
                      <th>Version</th>
                      <th>Language</th>
                      <th>Actions</th>
                      <th>Export</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="validation in $ctrl.forms">
                      <td>{{validation.name}}</td>
                      <td>{{validation.statusForm}}</td>
                      <td>{{validation.project}}</td>
                      <td>{{validation.version}}</td>
                      <td>{{validation.language}}</td>
                      <td>
                        <!--<a ng-click="showModelForm('#modelMessages'); $ctrl.selectForm(validation)" class="icon info"><span class="fa fa-envelope"></span></a>-->
                        <a ng-click="showModelForm('#modelInfo'); $ctrl.selectForm(validation)" class="icon info"><span class="fa fa-comments"></span></a>
                        <a ng-click="$ctrl.accept(validation)" class="icon accept"><span class="fa fa-check-square-o"></span></a>
                        <a ng-click="$ctrl.deny(validation)" class="icon deny"><span class="fa fa-times"></span></a>
                      </td>
                      <td>
                        <div class="icon accept" uib-dropdown is-open="status.isopen">
                          <a id="single-button" class="icon info" uib-dropdown-toggle>
                            <span class="fa fa-share-square-o"></span>
                          </a>
                          <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button">
                            <li role="menuitem"><a target="_blank" href="https://www.juntadeandalucia.es/servicioandaluzdesalud/hhuuvr/esaludpre/MirthOperaciones/HEMIC_G/{{validation._id}}">OpenClinica</a></li>
                            <li role="menuitem"><a href="#">Another action</a></li>
                            <li role="menuitem"><a href="#">Something else here</a></li>
                            <li class="divider"></li>
                            <li role="menuitem"><a href="#">Separated link</a></li>
                          </ul>
                        </div>
                      </td>
                    </tr>

                    </tbody>
                  </table>
                  <!--<ul class="list-group user-list">-->
                    <!--<li class="list-group-item" ng-repeat="validation in $ctrl.forms">-->
                      <!--<div class="user-info">-->
                        <!--<strong>{{validation.name}}</strong><br>-->
                        <!--<span class="text-muted">{{validation.statusForm}}</span>-->
                        <!--<span class="text-muted">{{validation.statusForm}}</span>-->

                      <!--</div>-->
                      <!--<a ng-click="showModelForm('#modelMessages'); $ctrl.selectForm(validation)" class="icon info"><span class="fa fa-envelope"></span></a>-->
                      <!--<a ng-click="showModelForm('#modelInfo'); $ctrl.selectForm(validation)" class="icon info"><span class="fa fa-info"></span></a>-->
                      <!--<a ng-click="$ctrl.accept(validation)" class="icon accept"><span class="fa fa-check-square-o"></span></a>-->
                      <!--<a ng-click="$ctrl.deny(validation)" class="icon deny"><span class="fa fa-times"></span></a>-->
                    <!--</li>-->
                  <!--</ul>-->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>


    </div>

  </div>


</div>
<!--Modal details-->
<div style="visibility: hidden">
  <div class="md-dialog-container" layout="row" class="profile" layout-wrap id="modelInfo">
    <md-dialog flex="50">
      <md-toolbar>
        <div class="md-toolbar-tools dialog-header">
          Details
          <span flex></span>
          <md-button class="md-icon-button" aria-label="buttonHide" ng-click="hideModelForm()">
            <i class="fa fa-times" aria-hidden="true"></i>
          </md-button>
        </div>
      </md-toolbar>
      <md-dialog-content>
        <img src="https://image.ibb.co/eNiQjm/image_Fake.jpg">

        <ul class="list-group user-list">
          <li class="list-group-item" ng-repeat="n in $ctrl.formSelected.messages track by $index">
            <div class="user-info">
              <strong>{{n.user}}</strong><br>
              <span class="text-muted">{{n.message}}</span>
            </div>

          </li>
        </ul>
      </md-dialog-content>

      <md-dialog-actions layout="row">
        <div class="col-sm-10">

          <div class="form-group">
            <input class="form-control" ng-keydown="$event.keyCode === 13 && $ctrl.sendMessage($ctrl.formSelected)" ng-model="$ctrl.message" class="form-control" rows="5" id="message"></input>
          </div>
        </div>
        <div class="col-sm-2">
          <a ng-click="$ctrl.sendMessage($ctrl.formSelected)" class="icon accept"><span class="fa fa-paper-plane-o fa-2x"></span></a>
        </div>
      </md-dialog-actions>

    </md-dialog>
  </div>
</div>

<!--Modal messages-->
<div style="visibility: hidden">
  <div class="md-dialog-container" layout="row" class="profile" layout-wrap id="modelMessages">
    <md-dialog flex="50">
      <md-toolbar>
        <div class="md-toolbar-tools dialog-header">
          Messages
          <span flex></span>
          <md-button class="md-icon-button" aria-label="buttonHide" ng-click="hideModelForm()">
            <i class="fa fa-times" aria-hidden="true"></i>
          </md-button>
        </div>
      </md-toolbar>
      <md-dialog-content>
        <ul class="list-group user-list">
          <li class="list-group-item" ng-repeat="n in $ctrl.formSelected.messages track by $index">
            <div class="user-info">
              <strong>{{n.user}}</strong><br>
              <span class="text-muted">{{n.message}}</span>
            </div>

          </li>
        </ul>

      </md-dialog-content>

      <md-dialog-actions layout="row">
        <a ng-click="$ctrl.sendMessage($ctrl.formSelected)" class="icon accept"><span class="fa fa-paper-plane-o fa-2x"></span></a>
        <div class="form-group">
          <label for="message">New message:</label>
          <textarea ng-keydown="$event.keyCode === 13 && $ctrl.sendMessage($ctrl.formSelected)" ng-model="$ctrl.message" class="form-control" rows="5" id="message"></textarea>
        </div>
      </md-dialog-actions>

    </md-dialog>
  </div>
</div>
