<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <h1 class="page-header">Personalizar formulario:</h1>

      <md-button ng-click="showSimpleToast()">
        Show Simple
      </md-button>
      <div class="container-fluid container-fixed-lg">
        <div class="row">
          <div class="col-sm-3">
            <div class="panel panel-default">
              <div class="panel-heading">
                <div class="panel-title">Autoformulario
                </div>

              </div>
              <div class="panel-body">
                <form class="search-form">
                  <label>Search</label>
                  <p class="input-group">
                    <input type="text" class="form-control" placeholder="" ng-model="$ctrl.searchText">
                    <span class="input-group-btn">
                 </span>
                  </p>
                </form>
                <div ng-show="$ctrl.searchText" ng-repeat="st in $ctrl.data | filter:$ctrl.searchText">
                  <p>
                    <a ng-click="$ctrl.selected()">

                      <!--<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>-->
                      {{st.name}}
                    </a>
                  </p>
                  <!--ng-if="$ctrl.idStructure != '' && $ctrl.idStructure == st.idStructure"-->
                  <!--<div ng-show="$ctrl.selected == st._id">-->
                  <!--<p  style="padding-left: 20px" ng-repeat="e in st.elements">-->
                  <!--<a ng-click="$ctrl.elementSelected(e._id)">{{e.name}}</a>-->
                  <!--</p>-->
                  <!--</div>-->

                </div>

                <hr>
                <div ng-repeat="select in $ctrl.selection">
                  <!--{{select}}-->
                  <div ng-repeat="element in select.elements">
                    <div  ng-repeat="term in element.terms">
                      <md-checkbox ng-show="term.name" type="checkbox" checklist-model="element.specificterms.names" checklist-value="term.name"> {{term.name}} </md-checkbox>
                    </div>
                  </div>
                </div>
                <md-button class="md-raised md-primary" ng-click="$ctrl.select2 ()">Seleccionar</md-button>
                <hr>

                <!--<div ng-repeat="combi in $ctrl.combination">-->
                <!--<md-input-container>-->
                <!--<label>{{combi.name}}</label>-->
                <!--<md-select name="singleSelect" ng-model="$ctrl.test2">-->
                <!--<md-option ng-repeat="d in combi.datas" value="{{d}}">{{d}}</md-option>-->
                <!--</md-select>-->

                <!--</md-input-container>-->

                <!--&lt;!&ndash;<select name="singleSelect" ng-model="$ctrl.test2">&ndash;&gt;-->
                <!--&lt;!&ndash;<option ng-repeat="d in combi.datas" value="{{d}}">{{d}}</option>&ndash;&gt;-->
                <!--&lt;!&ndash;</select>&ndash;&gt;-->
                <!--</div>-->
              </div>
            </div>
          </div>
          <div class="col-sm-9">
            <div class="panel panel-default">
              <div class="panel-heading">
                <div class="panel-title">Término Combinado
                </div>
              </div>
              <div class="panel-body">

                </md-input-container>
                <div class="row">
                  <div class="col-sm-9">
                    <div>
                      <div class="formComponent">
                        <input type="text" ng-model="$ctrl.nameForm" placeholder="Introduzca el nombre del formulario"/>
                      </div>
                    </div>
                    <div ng-repeat="(i,m) in $ctrl.modelForm">
                      <!--Añado una variable para controlar cuando el ratón entra en el div para mostrar los botones de editar y borrar-->
                      <div class="formComponent" ng-mouseenter="showHeaderButtons=true" ng-mouseleave="showHeaderButtons=false" >
                        <span class="{{m.class}} formLabel">{{m.header}}<span ng-if="m.required===true">*</span></span>
                        <md-button class="delete" ng-show="showHeaderButtons" ng-click="$ctrl.deleteObject(i)"><i class="fa fa-times" style="color: #d9534f;" aria-hidden="true"></i></md-button>
                        <md-button class="edit" ng-show="showHeaderButtons" ng-click=" m.edit=true "><i class="fa fa-pencil" style="color: #105cb6;" aria-hidden="true"></i></md-button>
                        <div ng-if="!m.edit">
                          <!--number & text-->
                          <div ng-if="m.typeStructure === 'simple'">
                            <input class="form-control" type="{{m.type}}" ng-model="m.value"/>
                          </div>
                          <!--CheckBox-->
                          <div ng-if="m.type === 'checkbox' ">
                            <div ng-repeat="(j, v) in m.options">
                              <md-checkbox ng-model="v.value" />
                              <input class="form-control" type="text" ng-model="v.name" />
                            </div>
                          </div>
                         <!--Select -->
                          <div ng-if="m.type === 'select' ">
                           <select class="form-control" id="sel1" ng-model="m.value">
                             <option ng-repeat="(j, v) in m.options">
                               {{v.name}}
                             </option>
                           </select>
                          </div>
                         <!--TextArea-->
                          <div ng-if="m.type === 'textArea' ">
                            <textarea class="form-control" rows="{{m.rows}}" cols="93" ng-model="m.value">
                            </textarea>
                          </div>
                          <!--Radio Group-->
                          <div ng-if="m.type === 'radioGroup' ">
                            <md-radio-group ng-model="m.value">
                              <div ng-repeat="(j, v) in m.options">
                                <md-radio-button value={{v.value}} class="md-primary">{{v.name}}</md-radio-button>
                              </div>
                            </md-radio-group>
                          </div>
                          <!--Date Field-->
                          <div ng-if="m.type === 'dateField' ">
                            <md-datepicker ng-model="m.value" md-placeholder="Enter date"></md-datepicker>
                            <!--</textarea>-->
                          </div>
                        </div>
                        <!--------------------Edition view----------------->
                        <div ng-if="m.edit" style="padding:10px">
                          <div class="formEdit">
                            <form class="form-horizontal">
                              <!--REQUIRED-->
                              <div class="form-group">
                                <label class="control-label col-sm-2" for="required">
                                  Required:
                                </label>

                                <div class="col-sm-10">
                                  <div class="checkbox">
                                    <label><input type="checkbox" id="required" ng-model="m.required"> </label>
                                  </div>
                                </div>
                              </div>
                              <!--LABEL-->
                              <div class="form-group">
                                <label class="control-label col-sm-2" for="label">Label:</label>
                                <div class="col-sm-10">
                                  <input type="text" class="form-control" id="label" ng-model="m.header" >
                                </div>
                              </div>
                              <!--VALUE-->
                              <div class="form-group" ng-if="m.typeStructure!='complex' && m.type!='dateField' && m.type!='header'">
                                <label class="control-label col-sm-2" for="value">Value:</label>
                                <div class="col-sm-10">
                                  <input type="{{m.type}}" class="form-control" id="value" ng-model="m.value" >
                                </div>
                              </div>
                              <!--MAX LENGTH-->
                              <div class="form-group" ng-if="m.typeStructure!='complex' && m.type!='number' && m.type!='dateField'">
                                <label class="control-label col-sm-2" for="maxLength">Max Length:</label>
                                <div class="col-sm-10">
                                  <input type="number" class="form-control" id="maxLength" ng-model="m.maxlength" >
                                </div>
                              </div>
                              <!--number max & min-->
                              <div class="form-group" ng-if="m.type==='number'">
                                <label class="control-label col-sm-2" for="maxValue">Max:</label>
                                <div class="col-sm-4">
                                  <input type="number" class="form-control" id="maxValue" ng-model="m.maxlValue" >
                                </div>
                                <label class="control-label col-sm-2" for="maxValue">Min:</label>
                                <div class="col-sm-4">
                                  <input type="number" class="form-control" id="minValue" ng-model="m.minlValue" >
                                </div>
                              </div>
                              <!--OPTIONS CHECKBOX-->
                              <div class="form-group" ng-if="m.typeStructure === 'complex'">
                                <div >
                                  <div ng-repeat="(j, v) in m.options" >
                                    <label class="control-label col-sm-2" for="optionCheckbox">Options:</label>
                                    <div class="col-sm-4">
                                      <input type="text" id="optionCheckbox" class="form-control" ng-model="v.name" >
                                    </div>
                                    <div class="col-sm-4">
                                      <input type="text" class="form-control" ng-model="v.name" >
                                    </div>
                                    <div class="col-sm-2">
                                      <md-button class="delete" ng-click="$ctrl.deleteOptionInCheck(i,j)"><i class="fa fa-times" style="color: #d9534f;" aria-hidden="true"></i></md-button>
                                    </div>
                                  </div>
                                  <div class="col-sm-10">
                                  </div>
                                  <div class="col-sm-2">
                                    <md-button class="delete" ng-click="$ctrl.addOptionInCheck(i)"><i class="fa fa-plus" style="color: #5cb85c;" aria-hidden="true"></i></md-button>
                                  </div>
                                </div>
                              </div>
                              <!--Rows-->
                              <div class="form-group" ng-if="m.typeStructure === 'textArea' ">
                                <label class="control-label col-sm-2" for="rows">Rows:</label>
                                <div class="col-sm-10">
                                  <input type="number" class="form-control" id="rows" ng-model="m.rows" >
                                </div>
                              </div>
                              <!--todo minimo máximo -->
                            </form>
                            <!--close button-->
                            <div class="row">
                              <div class="col-xs-10">
                              </div>
                              <div class="col-xs-2">
                                <button class="form-control closeEdit" ng-click="m.edit=false">Close</button>
                              </div>
                            </div>
                          </div>
                        </div>


                      </div>
                    </div>

                  </div>
                  <div class="col-sm-3">
                    <!--RIGTH FORM MENU-->
                    <div class="btn-group">
                      <button ng-click="$ctrl.addCheck()"><i class="fa fa-check-square-o" aria-hidden="true"></i>
                        Checkbox Group</button>
                      <button ng-click="$ctrl.addDateField()"><i class="fa fa-calendar" aria-hidden="true"></i>
                        Date Field</button>
                      <button ng-click="$ctrl.addHeader()"><i class="fa fa-header" aria-hidden="true"></i>
                        Header</button>
                      <button ng-click="$ctrl.addParagraph()"><i class="fa fa-paragraph" aria-hidden="true"></i>
                        Paragraph</button>
                      <button ng-click="$ctrl.addNumber()"><i class="fa fa-hashtag" aria-hidden="true"></i>
                        Number</button>
                      <button ng-click="$ctrl.addSelect()"><i class="fa fa-indent" aria-hidden="true"></i>
                        Select</button>
                      <button ng-click="$ctrl.addText()"><i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                        Text Field</button>
                      <button ng-click="$ctrl.addTextArea()"><i class="fa fa-align-justify" aria-hidden="true"></i>
                        Text Area</button>
                      <button ng-click="$ctrl.addRadioGroup()"><i class="fa fa-list-ul" aria-hidden="true"></i>
                        Radio Group</button>
                      <div ng-repeat="form in $ctrl.modelFormCustom">
                        <button ng-click="$ctrl.addFormCustom(form.form)">{{form.name}}</button>
                      </div>
                    </div>
                    <div class="">
                      <div class="col-sm-4">
                        <button class="form-control" ng-click="$ctrl.clear()">Clear</button>
                      </div>
                      <div class="col-sm-4"><button class="form-control" ng-click="showModelForm()">{}</button></div>
                      <div class="col-sm-4">
                        <button class="form-control" ng-click="$ctrl.addPersonalizedForm()">meter</button></div>
                      <button class="form-control" ng-click="$ctrl.saveForm()">Save</button></div>

                  </div>
                  </div>

                </div>

                </md-input-container>

                <!--Dialog Data Structure-->
                </div>


              </div>

            </div>
          </div>
        </div>


      </div>

    </div>
  <!--Modal Data-->
  <div style="visibility: hidden">
    <div class="md-dialog-container" layout="row" class="profile" layout-wrap id="modelForm">
      <md-dialog flex="50">
        <md-toolbar>
          <div class="md-toolbar-tools">
            <h2>Data</h2>
            <span flex></span>
            <md-button class="md-icon-button" ng-click="hideModelForm()">
              <i class="fa fa-times" aria-hidden="true"></i>
            </md-button>
          </div>
        </md-toolbar>
        <md-dialog-content>

          {{$ctrl.modelForm}}
        </md-dialog-content>
        <md-dialog-actions layout="row">
          <md-button class="md-raised md-primary">Copy Data</md-button>
          <span flex></span>
          <md-button class="md-raised md-primary" ng-click="hideModelForm()">Close</md-button>
        </md-dialog-actions>

      </md-dialog>
    </div>
  </div>
</div>
